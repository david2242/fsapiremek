"use strict";(self.webpackChunkui_challenge_opswat=self.webpackChunkui_challenge_opswat||[]).push([[1],{6001:(D,m,l)=>{l.r(m),l.d(m,{EventModule:()=>z});var c=l(9808),a=l(4391),t=l(1223),_=l(520);let d=(()=>{class n{constructor(e){this.http=e,this.EVENT_URL="http://localhost:3000/api/event"}create(e){return this.http.post(this.EVENT_URL,e)}getAll(){return this.http.get(this.EVENT_URL)}get(e){return this.http.get(`${this.EVENT_URL}/${e}`)}update(e,r){return this.http.put(`${this.EVENT_URL}/${e}`,r)}delete(e){return this.http.delete(`${this.EVENT_URL}/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(_.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function g(n,i){1&n&&t._UZ(0,"div",2)}function f(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr",6),t.NdJ("click",function(){const u=t.CHM(e).$implicit;return t.oxw(2).updateEvent(u._id)}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"button",7),t.NdJ("click",function(){const u=t.CHM(e).$implicit;return t.oxw(2).onDelete(u._id)}),t._uU(13,"Delete"),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.nature),t.xp6(2),t.Oqu(e.public),t.xp6(2),t.Oqu(e.startTime),t.xp6(2),t.Oqu(e.endTime)}}function h(n,i){if(1&n&&(t.TgZ(0,"div",3)(1,"table",4)(2,"thead")(3,"tr")(4,"th"),t._uU(5,"name"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"nature"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"public"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"start"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"end"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"action"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,f,14,5,"tr",5),t.ALo(18,"async"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(17),t.Q6J("ngForOf",t.lcZ(18,1,e.list$))}}let Z=(()=>{class n{constructor(e,r){this.eventService=e,this.router=r,this.list$=this.eventService.getAll(),this.loggedIn=!0}ngOnInit(){}onDelete(e){this.eventService.delete(e).subscribe(r=>{console.log(r),this.router.navigate(["event"])},r=>console.error(r))}updateEvent(e){this.router.navigate(["event","form",e]).then(r=>console.log(r)).catch(r=>console.error(r))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d),t.Y36(a.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-event-list"]],decls:2,vars:2,consts:[["style","height: 50px;",4,"ngIf"],["class","container-md",4,"ngIf"],[2,"height","50px"],[1,"container-md"],[1,"table","table-hover"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(t.YNc(0,g,1,0,"div",0),t.YNc(1,h,19,3,"div",1)),2&e&&(t.Q6J("ngIf",r.loggedIn),t.xp6(1),t.Q6J("ngIf",r.loggedIn))},directives:[c.O5,c.sg],pipes:[c.Ov],styles:[""]}),n})();var o=l(2382),T=l(892);function b(n,i){1&n&&t._UZ(0,"div",4)}function x(n,i){1&n&&t._UZ(0,"div",5)}function C(n,i){1&n&&(t.TgZ(0,"div",6)(1,"button",7),t._uU(2,"Log in first!"),t.qZA()())}function E(n,i){1&n&&(t.TgZ(0,"small",52),t._uU(1,"Proper name of the event!"),t.qZA())}function I(n,i){1&n&&(t.TgZ(0,"small",52),t._uU(1,"What is the purpose of the event?"),t.qZA())}function q(n,i){1&n&&(t.TgZ(0,"small",52),t._uU(1,"Select if the location is public or secret!"),t.qZA())}function A(n,i){1&n&&(t.TgZ(0,"small",52),t._uU(1,"Address needs valid ZIP code!"),t.qZA())}function U(n,i){1&n&&(t.TgZ(0,"small",52),t._uU(1,"Address needs valid city name!"),t.qZA())}function y(n,i){1&n&&(t.TgZ(0,"small",52),t._uU(1,"Address needs valid ZIP code!"),t.qZA())}function N(n,i){1&n&&(t.TgZ(0,"small",52),t._uU(1,"Address needs valid city name!"),t.qZA())}function F(n,i){1&n&&(t.TgZ(0,"small",52),t._uU(1,"When does it start?"),t.qZA())}function k(n,i){1&n&&(t.TgZ(0,"small",52),t._uU(1,"When does it end?"),t.qZA())}function J(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).submitEvent()}),t._uU(1,"Submit"),t.qZA()}}function L(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateEvent()}),t._uU(1,"Update"),t.qZA()}}function w(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",55),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).deleteEvent()}),t._uU(1,"Delete"),t.qZA()}}function Y(n,i){1&n&&(t.TgZ(0,"button",56),t._uU(1,"Back"),t.qZA())}const p=function(n){return{"fw-bold":n}};function Q(n,i){if(1&n&&(t.TgZ(0,"div",8)(1,"form",9)(2,"h5",10),t._uU(3,"New Event"),t.qZA(),t.TgZ(4,"div",11)(5,"label",12),t._uU(6,"Event name"),t.qZA(),t._UZ(7,"input",13),t.YNc(8,E,2,0,"small",14),t.qZA(),t.TgZ(9,"div",11)(10,"label",15),t._uU(11,"Event cause"),t.qZA(),t._UZ(12,"input",16),t.YNc(13,I,2,0,"small",14),t.qZA(),t.TgZ(14,"div",11)(15,"div",17),t._UZ(16,"input",18),t.TgZ(17,"label",19),t._uU(18," Public Location "),t.qZA()(),t.TgZ(19,"div",17),t._UZ(20,"input",20),t.TgZ(21,"label",21),t._uU(22," Secret Location "),t.qZA()(),t.YNc(23,q,2,0,"small",14),t.qZA(),t.TgZ(24,"div",22)(25,"label",23),t._uU(26,"Location"),t.qZA(),t.TgZ(27,"div",24)(28,"span",25),t._uU(29,"ZIP"),t.qZA(),t._UZ(30,"input",26)(31,"input",27),t.TgZ(32,"span",25),t._uU(33,"City"),t.qZA()(),t.TgZ(34,"div",28),t.YNc(35,A,2,0,"small",14),t.YNc(36,U,2,0,"small",14),t.qZA(),t.TgZ(37,"div",29)(38,"span",25),t._uU(39,"Address"),t.qZA(),t._UZ(40,"input",30)(41,"input",31),t.TgZ(42,"span",25),t._uU(43,"Floor, door"),t.qZA()(),t.TgZ(44,"div",28),t.YNc(45,y,2,0,"small",14),t.YNc(46,N,2,0,"small",14),t.qZA()(),t.TgZ(47,"div",11)(48,"label",32),t._uU(49,"Secret location code"),t.qZA(),t.TgZ(50,"select",33)(51,"option",34),t._uU(52,"A"),t.qZA(),t.TgZ(53,"option",35),t._uU(54,"B"),t.qZA(),t.TgZ(55,"option",36),t._uU(56,"C"),t.qZA()()(),t.TgZ(57,"div",37)(58,"span",38),t._uU(59,"Private event"),t.qZA(),t.TgZ(60,"div",39),t._UZ(61,"input",40),t.qZA(),t.TgZ(62,"span",38),t._uU(63,"Public event"),t.qZA()(),t.TgZ(64,"div",11)(65,"label",41),t._uU(66,"Event starts:"),t.qZA(),t._UZ(67,"input",42),t.YNc(68,F,2,0,"small",14),t.qZA(),t.TgZ(69,"div",11)(70,"label",43),t._uU(71,"Event ends:"),t.qZA(),t._UZ(72,"input",44),t.YNc(73,k,2,0,"small",14),t.qZA(),t.TgZ(74,"div",11)(75,"label",45),t._uU(76,"Event dresscode (optional):"),t.qZA(),t._UZ(77,"input",46),t.qZA(),t.TgZ(78,"div",47),t.YNc(79,J,2,0,"button",48),t.YNc(80,L,2,0,"button",49),t.YNc(81,w,2,0,"button",50),t.YNc(82,Y,2,0,"button",51),t.qZA()()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.eventForm),t.xp6(7),t.Q6J("ngIf",(null==e.name?null:e.name.invalid)&&(null==e.name?null:e.name.touched)),t.xp6(5),t.Q6J("ngIf",(null==e.name?null:e.name.invalid)&&(null==e.name?null:e.name.touched)),t.xp6(10),t.Q6J("ngIf",(null==e.name?null:e.name.invalid)&&(null==e.name?null:e.name.touched)),t.xp6(7),t.Q6J("readonly","publicLocation"!=e.nature.value),t.xp6(1),t.Q6J("readonly","publicLocation"!=e.nature.value),t.xp6(4),t.Q6J("ngIf",(null==e.zip?null:e.zip.invalid)&&(null==e.zip?null:e.zip.touched)),t.xp6(1),t.Q6J("ngIf",(null==e.city?null:e.city.invalid)&&(null==e.city?null:e.city.touched)),t.xp6(4),t.Q6J("readonly","publicLocation"!=e.nature.value),t.xp6(1),t.Q6J("readonly","publicLocation"!=e.nature.value),t.xp6(4),t.Q6J("ngIf",(null==e.address?null:e.address.invalid)&&(null==e.address?null:e.address.touched)),t.xp6(1),t.Q6J("ngIf",(null==e.floorDoor?null:e.floorDoor.invalid)&&(null==e.floorDoor?null:e.floorDoor.touched)),t.xp6(4),t.Q6J("disabled","secretLocation"!=e.nature.value),t.xp6(8),t.Q6J("ngClass",t.VKq(21,p,!(null!=e.public&&e.public.value))),t.xp6(4),t.Q6J("ngClass",t.VKq(23,p,null==e.public?null:e.public.value)),t.xp6(6),t.Q6J("ngIf",(null==e.startTime?null:e.startTime.invalid)&&(null==e.startTime?null:e.startTime.touched)),t.xp6(5),t.Q6J("ngIf",(null==e.endTime?null:e.endTime.invalid)&&(null==e.endTime?null:e.endTime.touched)),t.xp6(6),t.Q6J("ngIf",!e.updating),t.xp6(1),t.Q6J("ngIf",e.updating),t.xp6(1),t.Q6J("ngIf",e.updating),t.xp6(1),t.Q6J("ngIf",e.updating)}}let v=(()=>{class n{constructor(e,r,s,u){this.route=e,this.eventService=r,this.auth=s,this.activatedRoute=u,this.updating=!1,this.eventId="",this.loggedIn=this.auth.currentUserValue,this.eventForm=new o.cw({name:new o.NI("",[o.kI.required,o.kI.minLength(4)]),cause:new o.NI("",[o.kI.required]),nature:new o.NI("",[o.kI.required]),location:new o.cw({zip:new o.NI("",[o.kI.required]),city:new o.NI("",[o.kI.required]),address:new o.NI("",[o.kI.required]),floorDoor:new o.NI("")}),locationCode:new o.NI("",[o.kI.required]),public:new o.NI("",[o.kI.required]),startTime:new o.NI("",[o.kI.required]),endTime:new o.NI("",[o.kI.required]),dressCode:new o.NI("",[o.kI.required])})}get name(){return this.eventForm.get("name")}get cause(){return this.eventForm.get("cause")}get nature(){return this.eventForm.get("nature")}get location(){return this.eventForm.get("location")}get locationCode(){return this.eventForm.get("locationCode")}get public(){return this.eventForm.get("public")}get startTime(){return this.eventForm.get("startTime")}get endTime(){return this.eventForm.get("endTime")}get dressCode(){return this.eventForm.get("dressCode")}get zip(){return this.eventForm.controls.location.get("zip")}get city(){return this.eventForm.controls.location.get("city")}get address(){return this.eventForm.controls.location.get("address")}get floorDoor(){return this.eventForm.controls.location.get("floorDoor")}ngOnInit(){this.eventId=this.activatedRoute.snapshot.paramMap.get("id"),this.eventId&&(this.updating=!0,this.eventService.get(this.eventId).subscribe(e=>{console.log(e),this.eventForm.patchValue(e)}))}submitEvent(){this.eventService.create(this.eventForm.value).subscribe(e=>console.log(e),e=>console.error(e))}updateEvent(){this.eventService.update(this.eventId,this.eventForm.value).subscribe(e=>console.log(e),e=>console.error(e))}deleteEvent(){this.eventService.delete(this.eventId).subscribe(e=>console.log(e),e=>console.error(e))}changeNature(e){console.log(e.target.value)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.gz),t.Y36(d),t.Y36(T.e),t.Y36(a.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-event-form"]],decls:4,vars:4,consts:[["style","height: 50px;",4,"ngIf"],["style","height: 150px",4,"ngIf"],["class","text-center",4,"ngIf"],["class","container-md",4,"ngIf"],[2,"height","50px"],[2,"height","150px"],[1,"text-center"],["href","#","routerLink","/user/reglog",1,"n","btn-secondary","btn-lg"],[1,"container-md"],[3,"formGroup"],[1,"my-3"],[1,"mb-3"],["for","name",1,"form-label"],["formControlName","name","type","text","id","name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","cause",1,"form-label"],["formControlName","cause","type","text","id","cause",1,"form-control"],[1,"form-check"],["formControlName","nature","type","radio","name","nature","id","publicLocation","value","publicLocation",1,"form-check-input"],["for","publicLocation",1,"form-check-label"],["formControlName","nature","type","radio","name","nature","id","secretLocation","value","secretLocation",1,"form-check-input"],["for","secretLocation",1,"form-check-label"],["formGroupName","location",1,"mb-3"],["for","zip",1,"form-label"],[1,"input-group","mb-2"],[1,"input-group-text"],["formControlName","zip","type","text","id","zip",1,"form-control",3,"readonly"],["formControlName","city","type","text","id","city",1,"form-control",3,"readonly"],[1,"d-flex","justify-content-between","mt-0","mb-2"],[1,"input-group"],["formControlName","address","type","text","id","address",1,"form-control",3,"readonly"],["formControlName","floorDoor","type","text","id","floorDoor",1,"form-control",3,"readonly"],["for","locationCode",1,"form-label"],["id","locationCode",1,"form-select",3,"disabled"],["value","A","selected",""],["value","B"],["value","C"],[1,"d-flex","justify-content-start","mb-3"],[1,"me-2",3,"ngClass"],[1,"form-check","form-switch","me-2"],["formControlName","public","type","checkbox","role","switch","id","public","checked","",1,"form-check-input"],["for","startTime",1,"form-label"],["type","datetime-local","id","startTime","formControlName","startTime",1,"form-control"],["for","endTime",1,"form-label"],["type","datetime-local","id","endTime","formControlName","endTime",1,"form-control"],["for","dressCode",1,"form-label"],["formControlName","dressCode","type","text","id","dressCode",1,"form-control"],[1,"d-flex","justify-content-between","flex-row-reverse","mb-5"],["class","btn btn-primary ms-3",3,"click",4,"ngIf"],["class","btn btn-success ms-3",3,"click",4,"ngIf"],["class","btn btn-danger ms-3",3,"click",4,"ngIf"],["type","button","routerLink","/event","class","btn btn-secondary me-3",4,"ngIf"],[1,"text-danger"],[1,"btn","btn-primary","ms-3",3,"click"],[1,"btn","btn-success","ms-3",3,"click"],[1,"btn","btn-danger","ms-3",3,"click"],["type","button","routerLink","/event",1,"btn","btn-secondary","me-3"]],template:function(e,r){1&e&&(t.YNc(0,b,1,0,"div",0),t.YNc(1,x,1,0,"div",1),t.YNc(2,C,3,0,"div",2),t.YNc(3,Q,83,25,"div",3)),2&e&&(t.Q6J("ngIf",r.loggedIn),t.xp6(1),t.Q6J("ngIf",!r.loggedIn),t.xp6(1),t.Q6J("ngIf",!r.loggedIn),t.xp6(1),t.Q6J("ngIf",r.loggedIn))},directives:[c.O5,a.rH,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,o._,o.x0,o.YN,o.Kr,c.mk,o.Wl],styles:[""]}),n})();const S=[{path:"",component:Z},{path:"form",component:v},{path:"form/:id",component:v},{path:"/:id",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-event"]],decls:2,vars:0,template:function(e,r){1&e&&(t.TgZ(0,"p"),t._uU(1,"event works!"),t.qZA())},styles:[""]}),n})()}];let z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.ez,a.Bz.forChild(S),o.UX,o.u5]]}),n})()}}]);